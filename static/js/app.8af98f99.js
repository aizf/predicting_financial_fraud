(function(e){function t(t){for(var i,n,a=t[0],c=t[1],l=t[2],d=0,p=[];d<a.length;d++)n=a[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],i=!0,a=1;a<s.length;a++){var c=s[a];0!==r[c]&&(i=!1)}i&&(o.splice(t--,1),e=n(n.s=s[0]))}return e}var i={},r={app:0},o=[];function n(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=i,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var i=s("85ec"),r=s.n(i);r.a},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{style:{margin:"0 0 0 0"}},[s("a-card",{style:{width:"500px",float:"left"},attrs:{title:"数设置据集"}},[s("p",[e._v("blackList")]),s("a-checkbox",{attrs:{checked:e.blackList},on:{change:function(t){e.blackList=!e.blackList}}},[e._v("blackList")]),s("a-divider"),s("p",[e._v("selectedDims")]),s("a-row",e._l(Object.keys(e.dims),(function(t){return s("a-col",{key:t,attrs:{span:6}},[s("a-checkbox",{attrs:{checked:e.dims[t]},on:{change:function(s){e.dims[t]=!e.dims[t]}}},[e._v(e._s(t))])],1)})),1),s("a-divider"),s("p",[e._v("train_test_ratio")]),s("a-input-number",{attrs:{min:0,max:1,step:.1},model:{value:e.train_test_ratio,callback:function(t){e.train_test_ratio=t},expression:"train_test_ratio"}}),s("a-divider"),s("p",[e._v("multiple")]),s("a-input-number",{attrs:{min:0,step:.1},model:{value:e.multiple,callback:function(t){e.multiple=t},expression:"multiple"}}),s("a-divider")],1),s("a-card",{style:{width:"360px",float:"left"},attrs:{title:"RandomForest"}},[s("p",[e._v("n_estimators")]),s("a-input-number",{attrs:{min:1,step:1},model:{value:e.n_estimators,callback:function(t){e.n_estimators=t},expression:"n_estimators"}}),s("a-divider"),s("p",[e._v("特征重要性")]),s("a-row",[s("a-col",{attrs:{span:12}},e._l(e.selectedDims,(function(t){return s("a-row",{key:t},[e._v(e._s(t))])})),1),s("a-col",{attrs:{span:12}},e._l(e.scores.RandomForest.feature_importances,(function(t,i){return s("a-row",{key:i},[e._v(e._s(t))])})),1)],1),s("a-divider"),s("a-row",[s("a-col",{attrs:{span:12}},[s("p",[e._v("未舞弊公司正确预测率：")])]),s("a-col",{attrs:{span:12}},[s("p",[e._v(e._s(e.scores.RandomForest.label_0_score))])]),s("a-col",{attrs:{span:12}},[s("p",[e._v("舞弊公司正确预测率：")])]),s("a-col",{attrs:{span:12}},[s("p",[e._v(e._s(e.scores.RandomForest.label_1_score))])]),s("a-col",{attrs:{span:12}},[s("p",[e._v("总体正确预测率：")])]),s("a-col",{attrs:{span:12}},[s("p",[e._v(e._s(e.scores.RandomForest.score))])])],1)],1),s("a-card",{style:{width:"360px",float:"left"},attrs:{title:"LogisticRegression"}},[s("p",[e._v("123213213")]),s("a-divider"),s("p",[e._v("decision function")]),s("p",[e._v(e._s(e.decisionFun))]),s("a-checkbox",{attrs:{checked:e.ifFixed},on:{change:function(t){e.ifFixed=!e.ifFixed}}}),s("span",[e._v("toFixed")]),s("a-input-number",{attrs:{min:0,disabled:!e.ifFixed},model:{value:e.toFixed,callback:function(t){e.toFixed=t},expression:"toFixed"}}),s("a-divider"),s("a-row",[s("a-col",{attrs:{span:12}},[s("p",[e._v("未舞弊公司正确预测率：")])]),s("a-col",{attrs:{span:12}},[s("p",[e._v(e._s(e.scores.LogisticRegression.label_0_score))])]),s("a-col",{attrs:{span:12}},[s("p",[e._v("舞弊公司正确预测率：")])]),s("a-col",{attrs:{span:12}},[s("p",[e._v(e._s(e.scores.LogisticRegression.label_1_score))])]),s("a-col",{attrs:{span:12}},[s("p",[e._v("总体正确预测率：")])]),s("a-col",{attrs:{span:12}},[s("p",[e._v(e._s(e.scores.LogisticRegression.score))])])],1)],1)],1),s("a-divider"),s("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.commit}},[e._v("commit")]),s("a-divider"),s("p",{directives:[{name:"show",rawName:"v-show",value:!!e.errors,expression:"!!errors"}],style:{color:"red"}},[e._v(e._s(e.errors))]),s("a-table",{attrs:{columns:e.columns,dataSource:e.dataSource,bordered:""}})],1)},o=[],n=(s("99af"),s("4160"),s("a15b"),s("d81d"),s("b680"),s("b64b"),s("159b"),s("2909")),a=s("bc3a"),c=s.n(a),l={name:"App",components:{},mounted:function(){document.title="芮憨憨"},data:function(){return{blackList:!1,dims:{GAIN:!1,LOSS:!1,TATA1:!1,TATA2:!1,CHCS:!1,OTHREC:!1,GMI:!1,GMIII:!1,SGAI:!1,CHROA:!1,AQI:!1,LVGI:!1,DSRI:!1,SGI:!1,SOFTAS:!1,CHINV:!1,CHREC:!1},train_test_ratio:.7,multiple:1,n_estimators:10,scores:{RandomForest:{label_0_score:"...",label_1_score:"...",score:"...",feature_importances:"..."},LogisticRegression:{label_0_score:"...",label_1_score:"...",score:"...",coef:"..."}},loading:!1,decisionFun:"...",ifFixed:!0,toFixed:5,errors:null,res:{length:0,dims:{GAIN:[],LOSS:[],TATA1:[],TATA2:[],CHCS:[],OTHREC:[],GMI:[],GMIII:[],SGAI:[],CHROA:[],AQI:[],LVGI:[],DSRI:[],SGI:[],SOFTAS:[],CHINV:[],CHREC:[]},scores:{RandomForest:{label_0_score:[],label_1_score:[],score:[]},LogisticRegression:{label_0_score:[],label_1_score:[],score:[]}}},methods:["RandomForest","LogisticRegression"],score_types:["label_0_score","label_1_score","score"]}},computed:{selectedDims:function(){var e=this.dims,t=[];return Object.keys(e).forEach((function(s){e[s]&&t.push(s)})),t},columns:function(){var e=this,t=Object.keys(this.dims),s=[{title:"dims",children:t.map((function(e){return{title:e,dataIndex:e}}))}],i=this.methods.map((function(t){return{title:t,children:e.score_types.map((function(e){return{title:e,dataIndex:t+e}}))}}));return[].concat(s,Object(n["a"])(i))},dataSource:function(){for(var e=this,t=Object.keys(this.dims),s=[],i=this.res.length,r=function(i){var r={key:i};t.forEach((function(t){r[t]=e.res.dims[t][i]})),e.methods.forEach((function(t){e.score_types.forEach((function(s){r[t+s]=e.res.scores[t][s][i]}))})),s.push(r)},o=0;o<i;o++)r(o);return s}},methods:{commit:function(){var e=this;this.loading=!0,this.errors=null,c.a.post("http://49.233.132.179:5000/predicting_financial_fraud",{blackList:this.blackList,selectedDims:this.selectedDims,train_test_ratio:this.train_test_ratio,multiple:this.multiple,n_estimators:this.n_estimators}).then((function(t){var s=t.data;e.scores=s,e.saveRes(),e.loading=!1,e.getDecisionFun()})).catch((function(t){e.loading=!1,e.errors=t,alert("bug了,芮憨憨！！！")}))},saveRes:function(){var e=this,t=this.res,s=t.dims,i=t.scores;Object.keys(s).forEach((function(t){e.dims[t]?s[t].push(1):s[t].push(0)}));var r=this.methods,o=this.score_types;r.forEach((function(t){o.forEach((function(s){i[t][s].push(e.scores[t][s])}))})),this.res.length++},getDecisionFun:function(){for(var e=this.selectedDims,t=e.length,s=[],i=this.scores.LogisticRegression.coef[0],r=this.scores.LogisticRegression.intercept[0],o=0;o<t;o++)i[o]>=0&&0!=o&&s.push(" + "),s.push(this.ifFixed?i[o].toFixed(this.toFixed):i[o]),s.push(" * "),s.push(e[o]);r>=0&&s.push(" + "),s.push(this.ifFixed?r.toFixed(this.toFixed):r),this.decisionFun=s.join("")}},watch:{ifFixed:function(){"..."!==this.scores.LogisticRegression.coef&&this.getDecisionFun()},toFixed:function(){"..."!==this.scores.LogisticRegression.coef&&this.getDecisionFun()}}},u=l,d=(s("034f"),s("2877")),p=Object(d["a"])(u,r,o,!1,null,null,null),f=p.exports,_=(s("202f"),s("5efb")),h=s("cdeb"),m=s("bb76"),v=s("e32c"),b=s("a79d8"),g=s("09d9"),x=s("9a63"),y=s("0020");i["a"].use(_["a"]),i["a"].use(h["a"]),i["a"].use(m["a"]),i["a"].use(v["a"]),i["a"].use(b["a"]),i["a"].use(g["a"]),i["a"].use(x["a"]),i["a"].use(y["a"]),i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(f)}}).$mount("#app")},"85ec":function(e,t,s){}});